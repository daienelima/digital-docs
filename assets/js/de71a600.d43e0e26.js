"use strict";(self.webpackChunkdigital_docs=self.webpackChunkdigital_docs||[]).push([[991],{2026:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>t});const i=JSON.parse('{"id":"java/validacoes-request","title":"Valida\xe7\xf5es de Request","description":"Este guia mostra como aplicar valida\xe7\xf5es autom\xe1ticas em campos do corpo da requisi\xe7\xe3o (DTOs) usando Jakarta Bean Validation no Spring Boot. Inclui campos comuns, datas, formatos personalizados e valida\xe7\xf5es condicionais.","source":"@site/docs/java/validacoes-request.md","sourceDirName":"java","slug":"/java/validacoes-request","permalink":"/digital-docs/docs/java/validacoes-request","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Introdu\xe7\xe3o \xe0 Azure","permalink":"/digital-docs/docs/clouds/azure/introducao-azure"},"next":{"title":"MapStruct - Guia Completo","permalink":"/digital-docs/docs/java/mapstruct"}}');var d=n(4848),s=n(8453);const r={},o="Valida\xe7\xf5es de Request",l={},t=[{value:"\ud83e\udde9 Como validar DTOs no Spring Boot",id:"-como-validar-dtos-no-spring-boot",level:2},{value:"\ud83d\udccc Valida\xe7\xf5es comuns por tipo",id:"-valida\xe7\xf5es-comuns-por-tipo",level:2},{value:"\u2705 String",id:"-string",level:3},{value:"\u2705 N\xfameros",id:"-n\xfameros",level:3},{value:"\u2705 Datas (<code>LocalDate</code>, <code>LocalDateTime</code>)",id:"-datas-localdate-localdatetime",level:3},{value:"\u2705 Boolean",id:"-boolean",level:3},{value:"\u2705 Cole\xe7\xf5es e Arrays",id:"-cole\xe7\xf5es-e-arrays",level:3},{value:"\ud83d\udee0\ufe0f Tratando erros de valida\xe7\xe3o",id:"\ufe0f-tratando-erros-de-valida\xe7\xe3o",level:2},{value:"\ud83e\uddea Valida\xe7\xf5es personalizadas",id:"-valida\xe7\xf5es-personalizadas",level:2},{value:"\u2705 1. Exemplo: Valida\xe7\xe3o de CPF",id:"-1-exemplo-valida\xe7\xe3o-de-cpf",level:3},{value:"Annotation personalizada:",id:"annotation-personalizada",level:4},{value:"Validador:",id:"validador",level:4},{value:"Uso no DTO:",id:"uso-no-dto",level:4},{value:"\u2705 2. Valida\xe7\xe3o condicional entre dois campos",id:"-2-valida\xe7\xe3o-condicional-entre-dois-campos",level:3},{value:"Objetivo: <code>dataFim</code> deve ser maior que <code>dataInicio</code>",id:"objetivo-datafim-deve-ser-maior-que-datainicio",level:4},{value:"Annotation:",id:"annotation",level:4},{value:"Validador:",id:"validador-1",level:4},{value:"DTO com valida\xe7\xe3o:",id:"dto-com-valida\xe7\xe3o",level:4},{value:"Exemplo de JSON v\xe1lido:",id:"exemplo-de-json-v\xe1lido",level:4},{value:"\u2705 Conclus\xe3o",id:"-conclus\xe3o",level:2},{value:"\ud83d\uddc2\ufe0f Extras",id:"\ufe0f-extras",level:2}];function c(e){const a={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a.header,{children:(0,d.jsx)(a.h1,{id:"valida\xe7\xf5es-de-request",children:"Valida\xe7\xf5es de Request"})}),"\n",(0,d.jsxs)(a.p,{children:["Este guia mostra como aplicar valida\xe7\xf5es autom\xe1ticas em campos do corpo da requisi\xe7\xe3o (DTOs) usando ",(0,d.jsx)(a.strong,{children:"Jakarta Bean Validation"})," no Spring Boot. Inclui campos comuns, datas, formatos personalizados e valida\xe7\xf5es condicionais."]}),"\n",(0,d.jsx)(a.hr,{}),"\n",(0,d.jsx)(a.h2,{id:"-como-validar-dtos-no-spring-boot",children:"\ud83e\udde9 Como validar DTOs no Spring Boot"}),"\n",(0,d.jsxs)(a.ol,{children:["\n",(0,d.jsx)(a.li,{children:"Adicione as anota\xe7\xf5es de valida\xe7\xe3o nos campos do DTO"}),"\n",(0,d.jsxs)(a.li,{children:["Use ",(0,d.jsx)(a.code,{children:"@Valid"})," no ",(0,d.jsx)(a.code,{children:"@RequestBody"})," do controller"]}),"\n",(0,d.jsxs)(a.li,{children:["Opcional: use ",(0,d.jsx)(a.code,{children:"@ControllerAdvice"})," para personalizar mensagens de erro"]}),"\n"]}),"\n",(0,d.jsx)(a.hr,{}),"\n",(0,d.jsx)(a.h2,{id:"-valida\xe7\xf5es-comuns-por-tipo",children:"\ud83d\udccc Valida\xe7\xf5es comuns por tipo"}),"\n",(0,d.jsx)(a.h3,{id:"-string",children:"\u2705 String"}),"\n",(0,d.jsxs)(a.table,{children:[(0,d.jsx)(a.thead,{children:(0,d.jsxs)(a.tr,{children:[(0,d.jsx)(a.th,{children:"Anota\xe7\xe3o"}),(0,d.jsx)(a.th,{children:"Descri\xe7\xe3o"})]})}),(0,d.jsxs)(a.tbody,{children:[(0,d.jsxs)(a.tr,{children:[(0,d.jsx)(a.td,{children:(0,d.jsx)(a.code,{children:"@NotBlank"})}),(0,d.jsx)(a.td,{children:"N\xe3o pode ser nulo, vazio ou s\xf3 espa\xe7os"})]}),(0,d.jsxs)(a.tr,{children:[(0,d.jsx)(a.td,{children:(0,d.jsx)(a.code,{children:"@NotEmpty"})}),(0,d.jsx)(a.td,{children:"N\xe3o pode ser nulo ou vazio"})]}),(0,d.jsxs)(a.tr,{children:[(0,d.jsx)(a.td,{children:(0,d.jsx)(a.code,{children:"@Size(min, max)"})}),(0,d.jsx)(a.td,{children:"Tamanho m\xednimo e m\xe1ximo"})]}),(0,d.jsxs)(a.tr,{children:[(0,d.jsx)(a.td,{children:(0,d.jsx)(a.code,{children:"@Pattern(regexp)"})}),(0,d.jsx)(a.td,{children:"Express\xe3o regular"})]}),(0,d.jsxs)(a.tr,{children:[(0,d.jsx)(a.td,{children:(0,d.jsx)(a.code,{children:"@Email"})}),(0,d.jsx)(a.td,{children:"Valida email"})]}),(0,d.jsxs)(a.tr,{children:[(0,d.jsx)(a.td,{children:(0,d.jsx)(a.code,{children:"@URL"})}),(0,d.jsx)(a.td,{children:"Valida URL (Hibernate Validator)"})]})]})]}),"\n",(0,d.jsx)(a.pre,{children:(0,d.jsx)(a.code,{className:"language-java",children:'@NotBlank\n@Size(min = 3, max = 30)\nprivate String nome;\n\n@Email\nprivate String email;\n\n@Pattern(regexp = "\\d{11}")\nprivate String cpf;\n'})}),"\n",(0,d.jsx)(a.hr,{}),"\n",(0,d.jsx)(a.h3,{id:"-n\xfameros",children:"\u2705 N\xfameros"}),"\n",(0,d.jsxs)(a.table,{children:[(0,d.jsx)(a.thead,{children:(0,d.jsxs)(a.tr,{children:[(0,d.jsx)(a.th,{children:"Anota\xe7\xe3o"}),(0,d.jsx)(a.th,{children:"Descri\xe7\xe3o"})]})}),(0,d.jsxs)(a.tbody,{children:[(0,d.jsxs)(a.tr,{children:[(0,d.jsx)(a.td,{children:(0,d.jsx)(a.code,{children:"@Min(valor)"})}),(0,d.jsx)(a.td,{children:"Valor m\xednimo"})]}),(0,d.jsxs)(a.tr,{children:[(0,d.jsx)(a.td,{children:(0,d.jsx)(a.code,{children:"@Max(valor)"})}),(0,d.jsx)(a.td,{children:"Valor m\xe1ximo"})]}),(0,d.jsxs)(a.tr,{children:[(0,d.jsx)(a.td,{children:(0,d.jsx)(a.code,{children:"@Positive"})}),(0,d.jsx)(a.td,{children:"Maior que zero"})]}),(0,d.jsxs)(a.tr,{children:[(0,d.jsx)(a.td,{children:(0,d.jsx)(a.code,{children:"@PositiveOrZero"})}),(0,d.jsx)(a.td,{children:"Maior ou igual a zero"})]}),(0,d.jsxs)(a.tr,{children:[(0,d.jsx)(a.td,{children:(0,d.jsx)(a.code,{children:"@Negative"})}),(0,d.jsx)(a.td,{children:"Menor que zero"})]}),(0,d.jsxs)(a.tr,{children:[(0,d.jsx)(a.td,{children:(0,d.jsx)(a.code,{children:"@NegativeOrZero"})}),(0,d.jsx)(a.td,{children:"Menor ou igual a zero"})]}),(0,d.jsxs)(a.tr,{children:[(0,d.jsx)(a.td,{children:(0,d.jsx)(a.code,{children:"@Digits(int, int)"})}),(0,d.jsx)(a.td,{children:"Casas inteiras e decimais"})]})]})]}),"\n",(0,d.jsx)(a.pre,{children:(0,d.jsx)(a.code,{className:"language-java",children:"@Min(18)\n@Max(99)\nprivate int idade;\n\n@Positive\nprivate BigDecimal salario;\n"})}),"\n",(0,d.jsx)(a.hr,{}),"\n",(0,d.jsxs)(a.h3,{id:"-datas-localdate-localdatetime",children:["\u2705 Datas (",(0,d.jsx)(a.code,{children:"LocalDate"}),", ",(0,d.jsx)(a.code,{children:"LocalDateTime"}),")"]}),"\n",(0,d.jsxs)(a.table,{children:[(0,d.jsx)(a.thead,{children:(0,d.jsxs)(a.tr,{children:[(0,d.jsx)(a.th,{children:"Anota\xe7\xe3o"}),(0,d.jsx)(a.th,{children:"Descri\xe7\xe3o"})]})}),(0,d.jsxs)(a.tbody,{children:[(0,d.jsxs)(a.tr,{children:[(0,d.jsx)(a.td,{children:(0,d.jsx)(a.code,{children:"@Past"})}),(0,d.jsx)(a.td,{children:"Data no passado"})]}),(0,d.jsxs)(a.tr,{children:[(0,d.jsx)(a.td,{children:(0,d.jsx)(a.code,{children:"@Future"})}),(0,d.jsx)(a.td,{children:"Data no futuro"})]}),(0,d.jsxs)(a.tr,{children:[(0,d.jsx)(a.td,{children:(0,d.jsx)(a.code,{children:"@PastOrPresent"})}),(0,d.jsx)(a.td,{children:"Passado ou hoje"})]}),(0,d.jsxs)(a.tr,{children:[(0,d.jsx)(a.td,{children:(0,d.jsx)(a.code,{children:"@FutureOrPresent"})}),(0,d.jsx)(a.td,{children:"Futuro ou hoje"})]})]})]}),"\n",(0,d.jsx)(a.pre,{children:(0,d.jsx)(a.code,{className:"language-java",children:'@Past\n@JsonFormat(pattern = "dd/MM/yyyy")\nprivate LocalDate dataNascimento;\n\n@Future\n@JsonFormat(pattern = "dd/MM/yyyy HH:mm:ss")\nprivate LocalDateTime agendamento;\n'})}),"\n",(0,d.jsx)(a.p,{children:"Exemplo de JSON:"}),"\n",(0,d.jsx)(a.pre,{children:(0,d.jsx)(a.code,{className:"language-json",children:'{\n  "dataNascimento": "10/05/1990",\n  "agendamento": "25/07/2025 14:30:00"\n}\n'})}),"\n",(0,d.jsx)(a.hr,{}),"\n",(0,d.jsx)(a.h3,{id:"-boolean",children:"\u2705 Boolean"}),"\n",(0,d.jsxs)(a.table,{children:[(0,d.jsx)(a.thead,{children:(0,d.jsxs)(a.tr,{children:[(0,d.jsx)(a.th,{children:"Anota\xe7\xe3o"}),(0,d.jsx)(a.th,{children:"Descri\xe7\xe3o"})]})}),(0,d.jsxs)(a.tbody,{children:[(0,d.jsxs)(a.tr,{children:[(0,d.jsx)(a.td,{children:(0,d.jsx)(a.code,{children:"@AssertTrue"})}),(0,d.jsxs)(a.td,{children:["Deve ser ",(0,d.jsx)(a.code,{children:"true"})]})]}),(0,d.jsxs)(a.tr,{children:[(0,d.jsx)(a.td,{children:(0,d.jsx)(a.code,{children:"@AssertFalse"})}),(0,d.jsxs)(a.td,{children:["Deve ser ",(0,d.jsx)(a.code,{children:"false"})]})]})]})]}),"\n",(0,d.jsx)(a.pre,{children:(0,d.jsx)(a.code,{className:"language-java",children:'@AssertTrue(message = "Voc\xea deve aceitar os termos")\nprivate Boolean aceitouTermos;\n'})}),"\n",(0,d.jsx)(a.hr,{}),"\n",(0,d.jsx)(a.h3,{id:"-cole\xe7\xf5es-e-arrays",children:"\u2705 Cole\xe7\xf5es e Arrays"}),"\n",(0,d.jsxs)(a.table,{children:[(0,d.jsx)(a.thead,{children:(0,d.jsxs)(a.tr,{children:[(0,d.jsx)(a.th,{children:"Anota\xe7\xe3o"}),(0,d.jsx)(a.th,{children:"Descri\xe7\xe3o"})]})}),(0,d.jsxs)(a.tbody,{children:[(0,d.jsxs)(a.tr,{children:[(0,d.jsx)(a.td,{children:(0,d.jsx)(a.code,{children:"@NotEmpty"})}),(0,d.jsx)(a.td,{children:"Lista/array/map n\xe3o pode estar vazia"})]}),(0,d.jsxs)(a.tr,{children:[(0,d.jsx)(a.td,{children:(0,d.jsx)(a.code,{children:"@Size(min, max)"})}),(0,d.jsx)(a.td,{children:"Tamanho da cole\xe7\xe3o"})]})]})]}),"\n",(0,d.jsx)(a.pre,{children:(0,d.jsx)(a.code,{className:"language-java",children:"@NotEmpty\n@Size(min = 1, max = 5)\nprivate List<@NotBlank String> telefones;\n"})}),"\n",(0,d.jsx)(a.hr,{}),"\n",(0,d.jsx)(a.h2,{id:"\ufe0f-tratando-erros-de-valida\xe7\xe3o",children:"\ud83d\udee0\ufe0f Tratando erros de valida\xe7\xe3o"}),"\n",(0,d.jsx)(a.pre,{children:(0,d.jsx)(a.code,{className:"language-java",children:"@ControllerAdvice\npublic class GlobalExceptionHandler {\n\n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    public ResponseEntity<Map<String, String>> handleValidationErrors(MethodArgumentNotValidException ex) {\n        Map<String, String> errors = new HashMap<>();\n        ex.getBindingResult().getFieldErrors().forEach(error ->\n            errors.put(error.getField(), error.getDefaultMessage()));\n        return ResponseEntity.badRequest().body(errors);\n    }\n}\n"})}),"\n",(0,d.jsx)(a.hr,{}),"\n",(0,d.jsx)(a.h2,{id:"-valida\xe7\xf5es-personalizadas",children:"\ud83e\uddea Valida\xe7\xf5es personalizadas"}),"\n",(0,d.jsx)(a.h3,{id:"-1-exemplo-valida\xe7\xe3o-de-cpf",children:"\u2705 1. Exemplo: Valida\xe7\xe3o de CPF"}),"\n",(0,d.jsx)(a.h4,{id:"annotation-personalizada",children:"Annotation personalizada:"}),"\n",(0,d.jsx)(a.pre,{children:(0,d.jsx)(a.code,{className:"language-java",children:'@Documented\n@Constraint(validatedBy = CpfValidator.class)\n@Target({ ElementType.FIELD })\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface CPF {\n    String message() default "CPF inv\xe1lido";\n    Class<?>[] groups() default {};\n    Class<? extends Payload>[] payload() default {};\n}\n'})}),"\n",(0,d.jsx)(a.h4,{id:"validador",children:"Validador:"}),"\n",(0,d.jsx)(a.pre,{children:(0,d.jsx)(a.code,{className:"language-java",children:'public class CpfValidator implements ConstraintValidator<CPF, String> {\n    @Override\n    public boolean isValid(String value, ConstraintValidatorContext context) {\n        return value != null && value.matches("\\d{11}");\n    }\n}\n'})}),"\n",(0,d.jsx)(a.h4,{id:"uso-no-dto",children:"Uso no DTO:"}),"\n",(0,d.jsx)(a.pre,{children:(0,d.jsx)(a.code,{className:"language-java",children:"@CPF\nprivate String cpf;\n"})}),"\n",(0,d.jsx)(a.hr,{}),"\n",(0,d.jsx)(a.h3,{id:"-2-valida\xe7\xe3o-condicional-entre-dois-campos",children:"\u2705 2. Valida\xe7\xe3o condicional entre dois campos"}),"\n",(0,d.jsxs)(a.h4,{id:"objetivo-datafim-deve-ser-maior-que-datainicio",children:["Objetivo: ",(0,d.jsx)(a.code,{children:"dataFim"})," deve ser maior que ",(0,d.jsx)(a.code,{children:"dataInicio"})]}),"\n",(0,d.jsx)(a.h4,{id:"annotation",children:"Annotation:"}),"\n",(0,d.jsx)(a.pre,{children:(0,d.jsx)(a.code,{className:"language-java",children:'@Documented\n@Constraint(validatedBy = DataFimDepoisDeInicioValidator.class)\n@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface DataFimDepoisDeInicio {\n    String message() default "A data de fim deve ser posterior \xe0 data de in\xedcio";\n    Class<?>[] groups() default {};\n    Class<? extends Payload>[] payload() default {};\n}\n'})}),"\n",(0,d.jsx)(a.h4,{id:"validador-1",children:"Validador:"}),"\n",(0,d.jsx)(a.pre,{children:(0,d.jsx)(a.code,{className:"language-java",children:"public class DataFimDepoisDeInicioValidator implements ConstraintValidator<DataFimDepoisDeInicio, Object> {\n    @Override\n    public boolean isValid(Object obj, ConstraintValidatorContext context) {\n        if (obj instanceof ReservaRequest request) {\n            LocalDate inicio = request.getDataInicio();\n            LocalDate fim = request.getDataFim();\n            if (inicio == null || fim == null) return true;\n            return fim.isAfter(inicio);\n        }\n        return true;\n    }\n}\n"})}),"\n",(0,d.jsx)(a.h4,{id:"dto-com-valida\xe7\xe3o",children:"DTO com valida\xe7\xe3o:"}),"\n",(0,d.jsx)(a.pre,{children:(0,d.jsx)(a.code,{className:"language-java",children:"@DataFimDepoisDeInicio\npublic class ReservaRequest {\n\n    @NotNull\n    private LocalDate dataInicio;\n\n    @NotNull\n    private LocalDate dataFim;\n\n    // outros campos\n}\n"})}),"\n",(0,d.jsx)(a.h4,{id:"exemplo-de-json-v\xe1lido",children:"Exemplo de JSON v\xe1lido:"}),"\n",(0,d.jsx)(a.pre,{children:(0,d.jsx)(a.code,{className:"language-json",children:'{\n  "dataInicio": "2025-07-01",\n  "dataFim": "2025-07-05"\n}\n'})}),"\n",(0,d.jsx)(a.hr,{}),"\n",(0,d.jsx)(a.h2,{id:"-conclus\xe3o",children:"\u2705 Conclus\xe3o"}),"\n",(0,d.jsxs)(a.p,{children:["Com Jakarta Bean Validation, \xe9 poss\xedvel validar praticamente qualquer tipo de dado em seu DTO sem precisar escrever ",(0,d.jsx)(a.code,{children:"if"})," manualmente. Al\xe9m disso, voc\xea pode criar valida\xe7\xf5es customizadas para regras de neg\xf3cio espec\xedficas."]}),"\n",(0,d.jsx)(a.hr,{}),"\n",(0,d.jsx)(a.h2,{id:"\ufe0f-extras",children:"\ud83d\uddc2\ufe0f Extras"}),"\n",(0,d.jsxs)(a.ul,{children:["\n",(0,d.jsxs)(a.li,{children:[(0,d.jsx)(a.code,{children:"@CNPJ"})," customizado"]}),"\n",(0,d.jsx)(a.li,{children:'Valida\xe7\xe3o de campos dependentes (ex: "se tipo == PJ, exigir cnpj")'}),"\n"]}),"\n",(0,d.jsx)(a.hr,{})]})}function h(e={}){const{wrapper:a}={...(0,s.R)(),...e.components};return a?(0,d.jsx)(a,{...e,children:(0,d.jsx)(c,{...e})}):c(e)}},8453:(e,a,n)=>{n.d(a,{R:()=>r,x:()=>o});var i=n(6540);const d={},s=i.createContext(d);function r(e){const a=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function o(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:r(e.components),i.createElement(s.Provider,{value:a},e.children)}}}]);
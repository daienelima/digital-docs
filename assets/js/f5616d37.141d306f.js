"use strict";(self.webpackChunkdigital_docs=self.webpackChunkdigital_docs||[]).push([[107],{1464:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"java/mapstruct","title":"MapStruct","description":"O MapStruct \xe9 um framework Java para mapeamento de objetos (beans) que permite transformar entidades em DTOs e vice-versa de forma eficiente, segura e com gera\xe7\xe3o de c\xf3digo em tempo de compila\xe7\xe3o.","source":"@site/docs/java/mapstruct.md","sourceDirName":"java","slug":"/java/mapstruct","permalink":"/digital-docs/docs/java/mapstruct","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Valida\xe7\xf5es de Request","permalink":"/digital-docs/docs/java/validacoes-request"}}');var s=a(4848),t=a(8453);const o={},i="MapStruct",l={},c=[{value:"\ud83d\udccc O que \xe9 o MapStruct?",id:"-o-que-\xe9-o-mapstruct",level:2},{value:"\ud83d\ude80 Vantagens",id:"-vantagens",level:2},{value:"\u2699\ufe0f Como configurar o MapStruct",id:"\ufe0f-como-configurar-o-mapstruct",level:2},{value:"\ud83d\udee0 Depend\xeancias no Maven",id:"-depend\xeancias-no-maven",level:3},{value:"\u270d\ufe0f Como usar o MapStruct",id:"\ufe0f-como-usar-o-mapstruct",level:2},{value:"1. Cria\xe7\xe3o de um Mapper",id:"1-cria\xe7\xe3o-de-um-mapper",level:3},{value:"2. Mapeando nomes diferentes",id:"2-mapeando-nomes-diferentes",level:3},{value:"3. Mapeando listas",id:"3-mapeando-listas",level:3},{value:"4. Mapeando objetos aninhados",id:"4-mapeando-objetos-aninhados",level:3},{value:"5. Mapeamento reverso autom\xe1tico",id:"5-mapeamento-reverso-autom\xe1tico",level:3},{value:"\ud83d\udd04 Estrat\xe9gias do MapStruct",id:"-estrat\xe9gias-do-mapstruct",level:2},{value:"1. Naming Strategy",id:"1-naming-strategy",level:3},{value:"2. Collection Mapping Strategy",id:"2-collection-mapping-strategy",level:3},{value:"3. Builder Strategy",id:"3-builder-strategy",level:3},{value:"4. Null Value Mapping Strategy",id:"4-null-value-mapping-strategy",level:3},{value:"5. Enum Mapping Strategy",id:"5-enum-mapping-strategy",level:3},{value:"6. Unmapped Target Policy",id:"6-unmapped-target-policy",level:3},{value:"7. Inje\xe7\xe3o de Mapper",id:"7-inje\xe7\xe3o-de-mapper",level:3},{value:"\ud83e\uddea Testando o Mapper",id:"-testando-o-mapper",level:2},{value:"\ud83d\udcda Refer\xeancias",id:"-refer\xeancias",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"mapstruct",children:"MapStruct"})}),"\n",(0,s.jsxs)(n.p,{children:["O ",(0,s.jsx)(n.strong,{children:"MapStruct"})," \xe9 um framework Java para mapeamento de objetos (beans) que permite transformar entidades em DTOs e vice-versa de forma eficiente, segura e com gera\xe7\xe3o de c\xf3digo em tempo de compila\xe7\xe3o."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-o-que-\xe9-o-mapstruct",children:"\ud83d\udccc O que \xe9 o MapStruct?"}),"\n",(0,s.jsx)(n.p,{children:"MapStruct \xe9 um processador de anota\xe7\xf5es que gera implementa\xe7\xf5es de mapeamentos entre classes Java. Ele \xe9 r\xe1pido, seguro e elimina a necessidade de escrever c\xf3digo repetitivo para convers\xe3o de objetos."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-vantagens",children:"\ud83d\ude80 Vantagens"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Gera\xe7\xe3o de c\xf3digo em ",(0,s.jsx)(n.strong,{children:"tempo de compila\xe7\xe3o"})," (n\xe3o usa reflex\xe3o)"]}),"\n",(0,s.jsx)(n.li,{children:"Alto desempenho"}),"\n",(0,s.jsxs)(n.li,{children:["Integra\xe7\xe3o com Spring (",(0,s.jsx)(n.code,{children:"@Component"}),")"]}),"\n",(0,s.jsx)(n.li,{children:"Suporte a convers\xe3o de listas, enums, objetos aninhados, builders, etc."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\ufe0f-como-configurar-o-mapstruct",children:"\u2699\ufe0f Como configurar o MapStruct"}),"\n",(0,s.jsx)(n.h3,{id:"-depend\xeancias-no-maven",children:"\ud83d\udee0 Depend\xeancias no Maven"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"<dependencies>\n  <dependency>\n    <groupId>org.mapstruct</groupId>\n    <artifactId>mapstruct</artifactId>\n    <version>1.5.5.Final</version>\n  </dependency>\n</dependencies>\n\n<build>\n  <plugins>\n    <plugin>\n      <groupId>org.apache.maven.plugins</groupId>\n      <artifactId>maven-compiler-plugin</artifactId>\n      <version>3.11.0</version>\n      <configuration>\n        <source>21</source>\n        <target>21</target>\n        <annotationProcessorPaths>\n          <path>\n            <groupId>org.mapstruct</groupId>\n            <artifactId>mapstruct-processor</artifactId>\n            <version>1.5.5.Final</version>\n          </path>\n        </annotationProcessorPaths>\n      </configuration>\n    </plugin>\n  </plugins>\n</build>\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\ufe0f-como-usar-o-mapstruct",children:"\u270d\ufe0f Como usar o MapStruct"}),"\n",(0,s.jsx)(n.h3,{id:"1-cria\xe7\xe3o-de-um-mapper",children:"1. Cria\xe7\xe3o de um Mapper"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Mapper(componentModel = "spring")\npublic interface UserMapper {\n    UserDTO toDTO(User entity);\n    User toEntity(UserDTO dto);\n}\n'})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["Ser\xe1 gerado automaticamente um ",(0,s.jsx)(n.code,{children:"UserMapperImpl"})," com a l\xf3gica de convers\xe3o."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"2-mapeando-nomes-diferentes",children:"2. Mapeando nomes diferentes"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Mapping(source = "nome", target = "fullName")\nUserDTO toDTO(User user);\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"3-mapeando-listas",children:"3. Mapeando listas"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"List<UserDTO> toDTOList(List<User> users);\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"4-mapeando-objetos-aninhados",children:"4. Mapeando objetos aninhados"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Mapping(source = "endereco.rua", target = "rua")\nClienteDTO toDTO(Cliente cliente);\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"5-mapeamento-reverso-autom\xe1tico",children:"5. Mapeamento reverso autom\xe1tico"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"@InheritInverseConfiguration\nUser toEntity(UserDTO dto);\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-estrat\xe9gias-do-mapstruct",children:"\ud83d\udd04 Estrat\xe9gias do MapStruct"}),"\n",(0,s.jsx)(n.h3,{id:"1-naming-strategy",children:"1. Naming Strategy"}),"\n",(0,s.jsxs)(n.p,{children:["Controla a convers\xe3o entre estilos de nomes (",(0,s.jsx)(n.code,{children:"snake_case"})," \u2194 ",(0,s.jsx)(n.code,{children:"camelCase"}),")."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Mapper(namingStrategy = "org.mapstruct.ap.spi.DefaultNamingStrategy")\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"2-collection-mapping-strategy",children:"2. Collection Mapping Strategy"}),"\n",(0,s.jsx)(n.p,{children:"Define como cole\xe7\xf5es s\xe3o manipuladas."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"@Mapper(collectionMappingStrategy = CollectionMappingStrategy.ADDER_PREFERRED)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"3-builder-strategy",children:"3. Builder Strategy"}),"\n",(0,s.jsx)(n.p,{children:"Para objetos com builder (como Lombok):"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"@Mapper(builder = @Builder(disableBuilder = false))\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"4-null-value-mapping-strategy",children:"4. Null Value Mapping Strategy"}),"\n",(0,s.jsxs)(n.p,{children:["Controla como ",(0,s.jsx)(n.code,{children:"null"})," ser\xe1 tratado:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"@Mapper(nullValueMappingStrategy = NullValueMappingStrategy.RETURN_DEFAULT)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"5-enum-mapping-strategy",children:"5. Enum Mapping Strategy"}),"\n",(0,s.jsx)(n.p,{children:"Mapeamento autom\xe1tico ou manual de enums:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@ValueMapping(source = "OLD", target = "LEGACY")\nTargetEnum map(SourceEnum source);\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"6-unmapped-target-policy",children:"6. Unmapped Target Policy"}),"\n",(0,s.jsx)(n.p,{children:"Define o que fazer com campos n\xe3o mapeados:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"7-inje\xe7\xe3o-de-mapper",children:"7. Inje\xe7\xe3o de Mapper"}),"\n",(0,s.jsx)(n.p,{children:"Define como ser\xe1 instanciado:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"spring"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"default"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"cdi"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"jsr330"})}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-testando-o-mapper",children:"\ud83e\uddea Testando o Mapper"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@SpringBootTest\npublic class UserMapperTest {\n\n    @Autowired\n    UserMapper mapper;\n\n    @Test\n    void testMapping() {\n        User user = new User("Ana", "ana@email.com");\n        UserDTO dto = mapper.toDTO(user);\n        assertEquals("Ana", dto.getFullName());\n    }\n}\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-refer\xeancias",children:"\ud83d\udcda Refer\xeancias"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://mapstruct.org/",children:"Documenta\xe7\xe3o Oficial do MapStruct"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/mapstruct/mapstruct-examples",children:"Exemplos no GitHub"})}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>o,x:()=>i});var r=a(6540);const s={},t=r.createContext(s);function o(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);
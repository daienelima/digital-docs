"use strict";(self.webpackChunkdigital_docs=self.webpackChunkdigital_docs||[]).push([[107],{1464:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"java/mapstruct","title":"MapStruct","description":"\ud83d\udccc Introdu\xe7\xe3o","source":"@site/docs/java/mapstruct.md","sourceDirName":"java","slug":"/java/mapstruct","permalink":"/digital-docs/docs/java/mapstruct","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Valida\xe7\xf5es de Request","permalink":"/digital-docs/docs/java/validacoes-request"}}');var s=a(4848),l=a(8453);const i={},o="MapStruct",d={},c=[{value:"\ud83d\udccc Introdu\xe7\xe3o",id:"-introdu\xe7\xe3o",level:2},{value:"O que \xe9 o MapStruct?",id:"o-que-\xe9-o-mapstruct",level:3},{value:"\ud83d\ude80 Vantagens",id:"-vantagens",level:3},{value:"\u2699\ufe0f Configura\xe7\xe3o",id:"\ufe0f-configura\xe7\xe3o",level:2},{value:"\ud83d\udee0 Depend\xeancias no Maven",id:"-depend\xeancias-no-maven",level:3},{value:"\u270d\ufe0f Uso B\xe1sico",id:"\ufe0f-uso-b\xe1sico",level:2},{value:"1. Cria\xe7\xe3o de um Mapper",id:"1-cria\xe7\xe3o-de-um-mapper",level:3},{value:"2. Mapeando nomes diferentes",id:"2-mapeando-nomes-diferentes",level:3},{value:"3. Mapeando listas",id:"3-mapeando-listas",level:3},{value:"4. Mapeando objetos aninhados",id:"4-mapeando-objetos-aninhados",level:3},{value:"5. Mapeamento reverso autom\xe1tico",id:"5-mapeamento-reverso-autom\xe1tico",level:3},{value:"\ud83d\udd04 Estrat\xe9gias do MapStruct",id:"-estrat\xe9gias-do-mapstruct",level:2},{value:"1. Naming Strategy",id:"1-naming-strategy",level:3},{value:"2. Collection Mapping Strategy",id:"2-collection-mapping-strategy",level:3},{value:"3. Builder Strategy",id:"3-builder-strategy",level:3},{value:"4. Null Value Mapping Strategy",id:"4-null-value-mapping-strategy",level:3},{value:"5. Enum Mapping Strategy",id:"5-enum-mapping-strategy",level:3},{value:"6. Unmapped Target Policy",id:"6-unmapped-target-policy",level:3},{value:"7. Inje\xe7\xe3o de Mapper",id:"7-inje\xe7\xe3o-de-mapper",level:3},{value:"\ud83e\udde0 Estrat\xe9gias Avan\xe7adas",id:"-estrat\xe9gias-avan\xe7adas",level:2},{value:"1. NullValueCheckStrategy",id:"1-nullvaluecheckstrategy",level:3},{value:"\ud83d\udd39 ON_IMPLICIT_CONVERSION <em>(padr\xe3o)</em>",id:"-on_implicit_conversion-padr\xe3o",level:5},{value:"\ud83d\udd39 ALWAYS",id:"-always",level:5},{value:"\ud83d\udee0 Como configurar",id:"-como-configurar",level:4},{value:"Ressultado",id:"ressultado",level:4},{value:"2. CollectionMappingStrategy",id:"2-collectionmappingstrategy",level:3},{value:"\ud83d\udd39 ACCESSOR_ONLY",id:"-accessor_only",level:4},{value:"\ud83d\udd39 SETTER_PREFERRED <em>(padr\xe3o)</em>",id:"-setter_preferred-padr\xe3o",level:4},{value:"\ud83d\udd39 ADDER_PREFERRED",id:"-adder_preferred",level:4},{value:"\ud83d\udd39 TARGET_IMMUTABLE",id:"-target_immutable",level:4},{value:"\ud83d\udee0 Como configurar",id:"-como-configurar-1",level:4},{value:"3. nullValuePropertyMappingStrategy",id:"3-nullvaluepropertymappingstrategy",level:3},{value:"\ud83d\udd39 SET_TO_NULL <em>(padr\xe3o)</em>",id:"-set_to_null-padr\xe3o",level:4},{value:"\ud83d\udd39 IGNORE",id:"-ignore",level:4},{value:"\ud83d\udee0 Como configurar",id:"-como-configurar-2",level:4},{value:"4. NullValueMappingStrategy",id:"4-nullvaluemappingstrategy",level:3},{value:"\ud83d\udd39 RETURN_NULL <em>(padr\xe3o)</em>",id:"-return_null-padr\xe3o",level:5},{value:"\ud83d\udd39 RETURN_DEFAULT",id:"-return_default",level:5},{value:"\ud83e\udde9 Recursos Avan\xe7ados",id:"-recursos-avan\xe7ados",level:2},{value:"1. @Context",id:"1-context",level:3},{value:"2. @MapMapping",id:"2-mapmapping",level:3},{value:"3. Convers\xe3o de Datas e Horas",id:"3-convers\xe3o-de-datas-e-horas",level:3},{value:"4. @MappingTarget",id:"4-mappingtarget",level:3},{value:"\ud83e\uddea Testando o Mapper",id:"-testando-o-mapper",level:2},{value:"\ud83d\udcda Refer\xeancias",id:"-refer\xeancias",level:2}];function t(e){const n={a:"a",blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"mapstruct",children:"MapStruct"})}),"\n",(0,s.jsx)(n.h2,{id:"-introdu\xe7\xe3o",children:"\ud83d\udccc Introdu\xe7\xe3o"}),"\n",(0,s.jsx)(n.h3,{id:"o-que-\xe9-o-mapstruct",children:"O que \xe9 o MapStruct?"}),"\n",(0,s.jsx)(n.p,{children:"MapStruct \xe9 um framework Java para mapeamento de objetos (beans) que permite transformar entidades em DTOs e vice-versa de forma eficiente, segura e com gera\xe7\xe3o de c\xf3digo em tempo de compila\xe7\xe3o."}),"\n",(0,s.jsx)(n.h3,{id:"-vantagens",children:"\ud83d\ude80 Vantagens"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Gera\xe7\xe3o de c\xf3digo em ",(0,s.jsx)(n.strong,{children:"tempo de compila\xe7\xe3o"})," (n\xe3o usa reflex\xe3o)"]}),"\n",(0,s.jsx)(n.li,{children:"Alto desempenho"}),"\n",(0,s.jsxs)(n.li,{children:["Integra\xe7\xe3o com Spring (",(0,s.jsx)(n.code,{children:"@Component"}),")"]}),"\n",(0,s.jsx)(n.li,{children:"Suporte a convers\xe3o de listas, enums, objetos aninhados, builders, etc."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\ufe0f-configura\xe7\xe3o",children:"\u2699\ufe0f Configura\xe7\xe3o"}),"\n",(0,s.jsx)(n.h3,{id:"-depend\xeancias-no-maven",children:"\ud83d\udee0 Depend\xeancias no Maven"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"<dependencies>\n  <dependency>\n    <groupId>org.mapstruct</groupId>\n    <artifactId>mapstruct</artifactId>\n    <version>1.5.5.Final</version>\n  </dependency>\n</dependencies>\n\n<build>\n  <plugins>\n    <plugin>\n      <groupId>org.apache.maven.plugins</groupId>\n      <artifactId>maven-compiler-plugin</artifactId>\n      <version>3.11.0</version>\n      <configuration>\n        <source>21</source>\n        <target>21</target>\n        <annotationProcessorPaths>\n          <path>\n            <groupId>org.mapstruct</groupId>\n            <artifactId>mapstruct-processor</artifactId>\n            <version>1.5.5.Final</version>\n          </path>\n        </annotationProcessorPaths>\n      </configuration>\n    </plugin>\n  </plugins>\n</build>\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\ufe0f-uso-b\xe1sico",children:"\u270d\ufe0f Uso B\xe1sico"}),"\n",(0,s.jsx)(n.h3,{id:"1-cria\xe7\xe3o-de-um-mapper",children:"1. Cria\xe7\xe3o de um Mapper"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Mapper(componentModel = "spring")\npublic interface UserMapper {\n    UserDTO toDTO(User entity);\n    User toEntity(UserDTO dto);\n}\n'})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["Ser\xe1 gerado automaticamente um ",(0,s.jsx)(n.code,{children:"UserMapperImpl"})," com a l\xf3gica de convers\xe3o."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"2-mapeando-nomes-diferentes",children:"2. Mapeando nomes diferentes"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Mapping(source = "nome", target = "fullName")\nUserDTO toDTO(User user);\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"3-mapeando-listas",children:"3. Mapeando listas"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"List<UserDTO> toDTOList(List<User> users);\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"4-mapeando-objetos-aninhados",children:"4. Mapeando objetos aninhados"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Mapping(source = "endereco.rua", target = "rua")\nClienteDTO toDTO(Cliente cliente);\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"5-mapeamento-reverso-autom\xe1tico",children:"5. Mapeamento reverso autom\xe1tico"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"@InheritInverseConfiguration\nUser toEntity(UserDTO dto);\n"})}),"\n",(0,s.jsx)(n.h2,{id:"-estrat\xe9gias-do-mapstruct",children:"\ud83d\udd04 Estrat\xe9gias do MapStruct"}),"\n",(0,s.jsx)(n.h3,{id:"1-naming-strategy",children:"1. Naming Strategy"}),"\n",(0,s.jsxs)(n.p,{children:["Controla a convers\xe3o entre estilos de nomes (",(0,s.jsx)(n.code,{children:"snake_case"})," \u2194 ",(0,s.jsx)(n.code,{children:"camelCase"}),")."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Mapper(namingStrategy = "org.mapstruct.ap.spi.DefaultNamingStrategy")\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"2-collection-mapping-strategy",children:"2. Collection Mapping Strategy"}),"\n",(0,s.jsx)(n.p,{children:"Define como cole\xe7\xf5es s\xe3o manipuladas."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"@Mapper(collectionMappingStrategy = CollectionMappingStrategy.ADDER_PREFERRED)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"3-builder-strategy",children:"3. Builder Strategy"}),"\n",(0,s.jsx)(n.p,{children:"Para objetos com builder (como Lombok):"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"@Mapper(builder = @Builder(disableBuilder = false))\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"4-null-value-mapping-strategy",children:"4. Null Value Mapping Strategy"}),"\n",(0,s.jsxs)(n.p,{children:["Controla como ",(0,s.jsx)(n.code,{children:"null"})," ser\xe1 tratado:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"@Mapper(nullValueMappingStrategy = NullValueMappingStrategy.RETURN_DEFAULT)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"5-enum-mapping-strategy",children:"5. Enum Mapping Strategy"}),"\n",(0,s.jsx)(n.p,{children:"Mapeamento autom\xe1tico ou manual de enums:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@ValueMapping(source = "OLD", target = "LEGACY")\nTargetEnum map(SourceEnum source);\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"6-unmapped-target-policy",children:"6. Unmapped Target Policy"}),"\n",(0,s.jsx)(n.p,{children:"Define o que fazer com campos n\xe3o mapeados:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"7-inje\xe7\xe3o-de-mapper",children:"7. Inje\xe7\xe3o de Mapper"}),"\n",(0,s.jsx)(n.p,{children:"Define como ser\xe1 instanciado:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"spring"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"default"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"cdi"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"jsr330"})}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-estrat\xe9gias-avan\xe7adas",children:"\ud83e\udde0 Estrat\xe9gias Avan\xe7adas"}),"\n",(0,s.jsx)(n.h3,{id:"1-nullvaluecheckstrategy",children:"1. NullValueCheckStrategy"}),"\n",(0,s.jsxs)(n.p,{children:["Controla ",(0,s.jsx)(n.strong,{children:"quando"})," o MapStruct deve verificar se um valor de origem \xe9 ",(0,s.jsx)(n.code,{children:"null"})," antes de realizar o mapeamento ou chamada de m\xe9todo auxiliar."]}),"\n",(0,s.jsx)(n.p,{children:"Tipos dispon\xedveis:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"ALWAYS"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ON_IMPLICIT_CONVERSION"})," (padr\xe3o)"]}),"\n"]}),"\n",(0,s.jsxs)(n.h5,{id:"-on_implicit_conversion-padr\xe3o",children:["\ud83d\udd39 ON_IMPLICIT_CONVERSION ",(0,s.jsx)(n.em,{children:"(padr\xe3o)"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Descri\xe7\xe3o"}),": Adiciona verifica\xe7\xe3o de ",(0,s.jsx)(n.code,{children:"null"})," ",(0,s.jsx)(n.strong,{children:"somente"})," quando o MapStruct realiza uma convers\xe3o de tipo impl\xedcita (ex: ",(0,s.jsx)(n.code,{children:"LocalDate \u2192 String"}),", ",(0,s.jsx)(n.code,{children:"Integer \u2192 Long"}),")."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Comportamento"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Se n\xe3o h\xe1 convers\xe3o, n\xe3o h\xe1 ",(0,s.jsx)(n.code,{children:"if (obj != null)"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Gera c\xf3digo mais enxuto."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Quando usar"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Deseja que ",(0,s.jsx)(n.code,{children:"null"})," s\xf3 seja tratado se necess\xe1rio."]}),"\n",(0,s.jsx)(n.li,{children:"C\xf3digo mais limpo."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h5,{id:"-always",children:"\ud83d\udd39 ALWAYS"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Descri\xe7\xe3o"}),": Sempre gera um ",(0,s.jsx)(n.code,{children:"if (source != null)"})," antes de qualquer opera\xe7\xe3o de mapeamento."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Comportamento"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Garante seguran\xe7a contra ",(0,s.jsx)(n.code,{children:"NullPointerException"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Adiciona verifica\xe7\xe3o mesmo se tipos forem iguais."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Quando usar"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Deseja evitar ",(0,s.jsx)(n.code,{children:"NullPointerException"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Mapeamento de valores opcionais."}),"\n",(0,s.jsx)(n.li,{children:"Mapeamentos com m\xe9todos auxiliares personalizados."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"-como-configurar",children:"\ud83d\udee0 Como configurar"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Por campo"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Mapping(target = "nome", source = "origem.nome", nullValueCheckStrategy = NullValueCheckStrategy.ALWAYS)\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"No n\xedvel do mapper"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"@Mapper(nullValueCheckStrategy = NullValueCheckStrategy.ALWAYS)\npublic interface MeuMapper { ... }\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"ressultado",children:"Ressultado"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"if (source.getNome() != null) {\n    target.setNome(source.getNome());\n}\n"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["\u26a0\ufe0f Observa\xe7\xf5es Importantes Diferente de ",(0,s.jsx)(n.code,{children:"NullValueMappingStrategy"}),":\n",(0,s.jsx)(n.code,{children:"NullValueCheckStrategy"})," controla verifica\xe7\xf5es de null durante o mapeamento.\n",(0,s.jsx)(n.code,{children:"NullValueMappingStrategy"})," define o comportamento para cole\xe7\xf5es/arrays nulos."]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["\ud83d\udca1 Combine com ",(0,s.jsx)(n.code,{children:"NullValuePropertyMappingStrategy"})," ou ",(0,s.jsx)(n.code,{children:"NullValueMappingStrategy"})," para controle completo sobre ",(0,s.jsx)(n.code,{children:"null"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-Java",children:'@Mapper(\n    componentModel = "spring",\n    nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE, // ignora propriedades null ao atualizar\n    nullValueMappingStrategy = NullValueMappingStrategy.RETURN_DEFAULT          // retorna lista vazia, objeto vazio etc.\n)\npublic interface MeuMapper {}\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"2-collectionmappingstrategy",children:"2. CollectionMappingStrategy"}),"\n",(0,s.jsxs)(n.p,{children:["O ",(0,s.jsx)(n.code,{children:"CollectionMappingStrategy"})," define como o MapStruct deve lidar com cole\xe7\xf5es (como ",(0,s.jsx)(n.code,{children:"List"}),", ",(0,s.jsx)(n.code,{children:"Set"}),", ",(0,s.jsx)(n.code,{children:"Map"}),") ao mapear entre objetos. Abaixo est\xe3o os valores poss\xedveis e suas explica\xe7\xf5es detalhadas:"]}),"\n",(0,s.jsx)(n.p,{children:"Tipos dispon\xedveis:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"ACCESSOR_ONLY"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SETTER_PREFERRED"})," (padr\xe3o)"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"ADDER_PREFERRED"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"TARGET_IMMUTABLE"})}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"-accessor_only",children:"\ud83d\udd39 ACCESSOR_ONLY"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Descri\xe7\xe3o"}),":",(0,s.jsx)(n.br,{}),"\n","Usa apenas o m\xe9todo ",(0,s.jsx)(n.code,{children:"getter"})," para acessar a cole\xe7\xe3o de destino. N\xe3o chama ",(0,s.jsx)(n.code,{children:"set"})," nem ",(0,s.jsx)(n.code,{children:"add"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Uso t\xedpico"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Quando a cole\xe7\xe3o j\xe1 est\xe1 inicializada internamente."}),"\n",(0,s.jsx)(n.li,{children:"Evita a substitui\xe7\xe3o da inst\xe2ncia da cole\xe7\xe3o."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"public class Target {\n    private final List<String> items = new ArrayList<>();\n\n    public List<String> getItems() {\n        return items;\n    }\n}\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h4,{id:"-setter_preferred-padr\xe3o",children:["\ud83d\udd39 SETTER_PREFERRED ",(0,s.jsx)(n.em,{children:"(padr\xe3o)"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Descri\xe7\xe3o"}),":",(0,s.jsx)(n.br,{}),"\n","Prefere usar o m\xe9todo ",(0,s.jsx)(n.code,{children:"setter"})," para definir a cole\xe7\xe3o inteira no destino."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Uso t\xedpico"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Quando deseja substituir completamente a cole\xe7\xe3o."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"public class Target {\n    private List<String> items;\n\n    public void setItems(List<String> items) {\n        this.items = items;\n    }\n}\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"-adder_preferred",children:"\ud83d\udd39 ADDER_PREFERRED"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Descri\xe7\xe3o"}),":",(0,s.jsx)(n.br,{}),"\n","Prefere usar m\xe9todos do tipo ",(0,s.jsx)(n.code,{children:"addItem(...)"})," para adicionar elementos \xe0 cole\xe7\xe3o individualmente."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Uso t\xedpico"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Quando deseja construir a cole\xe7\xe3o gradualmente."}),"\n",(0,s.jsxs)(n.li,{children:["Quando usa builders ou padr\xf5es que n\xe3o permitem ",(0,s.jsx)(n.code,{children:"set"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"public class Target {\n    private List<String> items = new ArrayList<>();\n\n    public void addItem(String item) {\n        items.add(item);\n    }\n}\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"-target_immutable",children:"\ud83d\udd39 TARGET_IMMUTABLE"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Descri\xe7\xe3o"}),":",(0,s.jsx)(n.br,{}),"\n","Assume que o destino \xe9 imut\xe1vel. Cria nova inst\xe2ncia do objeto de destino com as cole\xe7\xf5es preenchidas."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Uso t\xedpico"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Quando o destino \xe9 ",(0,s.jsx)(n.code,{children:"record"}),", usa builder ou \xe9 imut\xe1vel."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"public record Target(List<String> items) { }\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"-como-configurar-1",children:"\ud83d\udee0 Como configurar"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"@Mapper(collectionMappingStrategy = CollectionMappingStrategy.ADDER_PREFERRED)\npublic interface MeuMapper { ... }\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Ou com ",(0,s.jsx)(n.code,{children:"@MapperConfig"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"@MapperConfig(collectionMappingStrategy = CollectionMappingStrategy.TARGET_IMMUTABLE)\npublic interface GlobalConfig { }\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"3-nullvaluepropertymappingstrategy",children:"3. nullValuePropertyMappingStrategy"}),"\n",(0,s.jsxs)(n.p,{children:["Determina o que fazer quando o valor de origem \xe9 null ao mapear uma propriedade simples (como ",(0,s.jsx)(n.code,{children:"String"}),", ",(0,s.jsx)(n.code,{children:"Integer"}),", ",(0,s.jsx)(n.code,{children:"Boolean"}),", etc.)."]}),"\n",(0,s.jsx)(n.p,{children:"Tipos dispon\xedveis:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SET_TO_NULL"})," (padr\xe3o)"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"IGNORE"})}),"\n"]}),"\n",(0,s.jsxs)(n.h4,{id:"-set_to_null-padr\xe3o",children:["\ud83d\udd39 SET_TO_NULL ",(0,s.jsx)(n.em,{children:"(padr\xe3o)"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Define explicitamente ",(0,s.jsx)(n.code,{children:"null"})," no destino."]}),"\n",(0,s.jsxs)(n.li,{children:["Exemplo:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// origem.nome == null \u2192 destino.nome == null\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"-ignore",children:"\ud83d\udd39 IGNORE"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Ignora a propriedade se o valor da origem for ",(0,s.jsx)(n.code,{children:"null"}),". O campo no destino permanece como est\xe1."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Exemplo:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// origem.nome == null \u2192 destino.nome n\xe3o \xe9 alterado\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Ideal para:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Atualiza\xe7\xf5es parciais (ex: PATCH)"}),"\n",(0,s.jsx)(n.li,{children:"Preservar dados existentes"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"-como-configurar-2",children:"\ud83d\udee0 Como configurar"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Por campo"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Mapping(target = "nome", source = "origem.nome", nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE)\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"No n\xedvel do mapper"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"@Mapper(nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE)\npublic interface MeuMapper { ... }\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Configura\xe7\xe3o global"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"@MapperConfig(nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE)\npublic interface ConfigGlobal { }\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["Essa estrat\xe9gia afeta apenas propriedades escalares. Para cole\xe7\xf5es, use ",(0,s.jsx)(n.code,{children:"NullValueMappingStrategy"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"4-nullvaluemappingstrategy",children:"4. NullValueMappingStrategy"}),"\n",(0,s.jsxs)(n.p,{children:["Define o comportamento do MapStruct quando encontra valores ",(0,s.jsx)(n.code,{children:"null"})," na origem durante o mapeamento de cole\xe7\xf5es ou arrays."]}),"\n",(0,s.jsx)(n.p,{children:"Tipos dispon\xedveis:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"RETURN_NULL"})," (padr\xe3o)"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"RETURN_DEFAULT"})}),"\n"]}),"\n",(0,s.jsxs)(n.h5,{id:"-return_null-padr\xe3o",children:["\ud83d\udd39 RETURN_NULL ",(0,s.jsx)(n.em,{children:"(padr\xe3o)"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Descri\xe7\xe3o"}),": Retorna ",(0,s.jsx)(n.code,{children:"null"})," se o valor da origem for ",(0,s.jsx)(n.code,{children:"null"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Quando usar"}),": Se deseja preservar ",(0,s.jsx)(n.code,{children:"null"})," no objeto de destino."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Exemplo"}),":","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// origem.lista == null \u2192 destino.lista == null\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h5,{id:"-return_default",children:"\ud83d\udd39 RETURN_DEFAULT"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Descri\xe7\xe3o"}),": Retorna um valor padr\xe3o se o valor da origem for ",(0,s.jsx)(n.code,{children:"null"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Valores retornados"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Lista/Set \u2192 ",(0,s.jsx)(n.code,{children:"Collections.emptyList()"})," / ",(0,s.jsx)(n.code,{children:"emptySet()"})]}),"\n",(0,s.jsxs)(n.li,{children:["Array \u2192 ",(0,s.jsx)(n.code,{children:"new Tipo[0]"})]}),"\n",(0,s.jsxs)(n.li,{children:["Map \u2192 ",(0,s.jsx)(n.code,{children:"Collections.emptyMap()"})]}),"\n",(0,s.jsxs)(n.li,{children:["Primitivos \u2192 ",(0,s.jsx)(n.code,{children:"0"}),", ",(0,s.jsx)(n.code,{children:"false"}),", etc."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Quando usar"}),": Para evitar ",(0,s.jsx)(n.code,{children:"NullPointerException"})," ou garantir cole\xe7\xf5es nunca nulas."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Exemplo"}),":","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// origem.lista == null \u2192 destino.lista == []\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Esta estrat\xe9gia aplica-se apenas a ",(0,s.jsx)(n.strong,{children:"cole\xe7\xf5es e arrays"}),".",(0,s.jsx)(n.br,{}),"\n","Para valores escalares (",(0,s.jsx)(n.code,{children:"String"}),", ",(0,s.jsx)(n.code,{children:"Integer"}),", etc.)."]}),"\n",(0,s.jsx)(n.h2,{id:"-recursos-avan\xe7ados",children:"\ud83e\udde9 Recursos Avan\xe7ados"}),"\n",(0,s.jsx)(n.h3,{id:"1-context",children:"1. @Context"}),"\n",(0,s.jsx)(n.p,{children:"Usado para passar objetos auxiliares (como servi\xe7os ou helpers) que podem ser usados dentro dos m\xe9todos de mapeamento."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"@Mapper\npublic interface MeuMapper {\n    Target map(Source source, @Context CycleAvoidingContext context);\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-mapmapping",children:"2. @MapMapping"}),"\n",(0,s.jsxs)(n.p,{children:["Usado para mapear ",(0,s.jsx)(n.code,{children:"Map<K, V>"})," onde a convers\xe3o das chaves e valores tamb\xe9m precisa ser tratada:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@MapMapping(keyTargetType = "java.lang.String", valueTargetType = "java.lang.Integer")\nMap<String, Integer> convert(Map<Long, String> source);\n'})}),"\n",(0,s.jsx)(n.h3,{id:"3-convers\xe3o-de-datas-e-horas",children:"3. Convers\xe3o de Datas e Horas"}),"\n",(0,s.jsxs)(n.p,{children:["MapStruct pode converter formatos de datas utilizando o ",(0,s.jsx)(n.code,{children:"java.time.format.DateTimeFormatter"})," com ",(0,s.jsx)(n.code,{children:"@Mapping"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Mapping(target = "date", source = "date", dateFormat = "dd/MM/yyyy")\nTarget map(Source source);\n'})}),"\n",(0,s.jsx)(n.p,{children:"Ou com m\xe9todos auxiliares:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'default String format(LocalDate date) {\n    return date.format(DateTimeFormatter.ofPattern("dd/MM/yyyy"));\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"4-mappingtarget",children:"4. @MappingTarget"}),"\n",(0,s.jsx)(n.p,{children:"Permite atualizar um objeto existente em vez de criar um novo:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"void update(@MappingTarget Target target, Source source);\n"})}),"\n",(0,s.jsx)(n.h2,{id:"-testando-o-mapper",children:"\ud83e\uddea Testando o Mapper"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@SpringBootTest\npublic class UserMapperTest {\n\n    @Autowired\n    UserMapper mapper;\n\n    @Test\n    void testMapping() {\n        User user = new User("Ana", "ana@email.com");\n        UserDTO dto = mapper.toDTO(user);\n        assertEquals("Ana", dto.getFullName());\n    }\n}\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-refer\xeancias",children:"\ud83d\udcda Refer\xeancias"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://mapstruct.org/",children:"Documenta\xe7\xe3o Oficial do MapStruct"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/mapstruct/mapstruct-examples",children:"Exemplos no GitHub"})}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>i,x:()=>o});var r=a(6540);const s={},l=r.createContext(s);function i(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);